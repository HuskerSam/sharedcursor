<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Overview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" href="/images/logo64.png">
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-firestore.js"></script>
  <script src="/__/firebase/init.js"></script>
  <link rel="stylesheet" href="/css/base.css" />

  <script src="https://cdn.jsdelivr.net/npm/ace-builds@1.15.3/src-min-noconflict/ace.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/ace-builds@1.15.3/css/ace.min.css" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script>
    window.addEventListener('load', async (event) => {
      let module = await import('/models/baseapp.js');

      window.BaseApp = new module.BaseApp();

      window.BaseApp.initCollapseHeaders();

      let solarDeck = await window.BaseApp.readJSONFile(`/story/solarsystemdeck.json`);
      document.getElementById("solarsystemdeckviewer").innerHTML = JSON.stringify(solarDeck, null, '\t');
      ace.edit("solarsystemdeckviewer").session.setMode("ace/mode/javascript");

      let avatarJSON = await window.BaseApp.readJSONFile(`/story/avatars.json`);
      document.getElementById("avatarviewer").innerHTML = JSON.stringify(avatarJSON, null, '\t');
      ace.edit("avatarviewer").session.setMode("ace/mode/javascript");

      let helpJSON = await window.BaseApp.readJSONFile(`/story/helpitems.json`);
      document.getElementById("helpjsonviewer").innerHTML = JSON.stringify(helpJSON, null, '\t');
      ace.edit("helpjsonviewer").session.setMode("ace/mode/javascript");

      let roundJSON = await window.BaseApp.readJSONFile(`/story/roundpre4.json`);
      document.getElementById("roundjsonviewer").innerHTML = JSON.stringify(roundJSON, null, '\t');
      ace.edit("roundjsonviewer").session.setMode("ace/mode/javascript");
    });
  </script>
  <style>
    h1 {
      color: rgb(0, 0, 255);
    }

    h2 {
      color: rgb(255, 0, 0);
    }

    .app_panel h2 i {
      line-height: 20px;
      font-size: 30px;
      position: relative;
      top: 5px;
      left: -6px;
      color: rgb(100, 100, 100);
      transform: rotateX(180deg);
      transition: transform 600ms;
    }

    .app_panel .collapsed h2 i {
      transform: rotateX(0deg);
    }

    .app_panel {
      background: rgb(250, 250, 250);
    }

    html,
    body {
      min-height: 100vh;
    }

    .app_panel>div {
      max-width: 1000px;
    }


    .app_panel h1 {
      cursor: pointer;
    }

    .app_panel h1 .header_down_arrow {
      font-size: 30px;
      color: rgb(100, 100, 100);
      transform: rotateX(180deg);
      transition: transform 600ms;
      cursor: pointer;
      display: inline-block;
    }

    .night_mode .app_panel h1 .header_down_arrow {
      color: rgb(220, 220, 220);
    }

    .night_mode .app_panel h1 .header_down_arrow {
      color: rgb(220, 220, 220);
    }

    .app_panel .collapsed h1 .header_down_arrow {
      transform: rotateX(0deg);
    }

    .app_panel h1 {
      padding-left: 12px;
      text-align: left;
    }
  </style>
</head>

<body class="loaded" style="background:rgb(250,250,250);">
  <div style="display:flex;flex-direction:column;min-height:100vh" class="app_panel">
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Envionment<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div style="font-size:1.25em;padding:10px;">
          <table>
            <tr>
              <td><b>Purpose &nbsp;</b></td>
              <td>Use json files to implement data driven configuration options.</td>
            </tr>
            <tr>
              <td><b>Notes &nbsp;</b></td>
              <td>Meshes, textures and supporting image files are referenced by path and stored in the cloud.
              </td>
            </tr>
          </table>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Asset Decks <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            The asset decks provide meta data including mesh and texture locations and initial asset positioning.
            <br>
            <a href="/story/solarsystemdeck.json" target="_blank">Solar System</a> - Planets and other non moon assets
            <br>
            <a href="/story/moons1deck.json" target="_blank">Non Saturn Moons</a> - Luna and all but Saturns moons
            <br>
            <a href="/story/moons2deck.json" target="_blank">Saturn Moons</a> - it has that many it needed it's own file
            <br>
            <br>
            Solar System Json Example:
            <div id="solarsystemdeckviewer" style="height:250px;"></div>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Avatars <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            The avatar meta specifies the idle pose name, walking animation name, google voice name,
            description, initial position, etc.
            <br>
            <a href="/story/avatars.json" target="_blank">Avatars</a> - The 4 story avatars meta data
            <br><br>
            <div id="avatarviewer" style="height:250px;"></div>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Help Items <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Help Items are narrated by a specified avatar when selected. The meta data includes text and an image.
            <br>
            <a href="/story/helpitems.json" target="_blank">Help Items</a> - meta about each item
            <br><br>
            <div id="helpjsonviewer" style="height:250px;"></div>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Round Data <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Rounds contain speech channel events, action channel events and starting position Items<br>
            <br>
            The default round is the intial setup - and each round is a delta against it, for example for round 5
            you need the record for round 5 and the default round, but none of the other rounds to determine current state.
            <br>
            When a new round is created assets not in the default position are specified with state change items
            <br>
            <br>
            prequel rounds (vs game rounds created by users) can contain premade story events and/or tutorials on game play
            <br>
            more on action channel and speech channel events below
            <br><br>
            <a href="/story/roundpre1.json" target="_blank">Pre 1</a>
            <a href="/story/roundpre2.json" target="_blank">Pre 2</a>
            <a href="/story/roundpre3.json" target="_blank">Pre 3</a>
            <a href="/story/roundpre4.json" target="_blank">Pre 4</a>
            <a href="/story/roundpre5.json" target="_blank">Pre 5</a>
            <br><br>
            prequel round 4 json
            <div id="roundjsonviewer" style="height:250px;"></div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Action Channel<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        A main queue for action events during a turn. Can be replayed.
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Speech Channel<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        Chat is broken down into fragments - sentances as best as possible and displayed on both
        cartoon style popups and google text to speech is used to create audio.
      </div>
    </div>

    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Multi User<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">

      </div>
    </div>

    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">VR Action Bar<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">

      </div>
    </div>

    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Avatar Animations<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        Various bone animation sequences were attained from <a href="https://www.mixamo.com/" target="_blank">Mixamo</a> and
        at least some of the avatars.
        <br>
        
      </div>
    </div>
    <div style="flex:1"></div>
    <div class="copyright_panel">
      <br>Â© 2023 All Rights Reserved.
    </div>
  </div>

</body>

</html>
