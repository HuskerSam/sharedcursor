<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Moon Fights Overview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" href="/images/logo64.png">
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-firestore.js"></script>
  <script src="/__/firebase/init.js"></script>
  <link rel="stylesheet" href="/css/base.css" />

  <script src="https://cdn.jsdelivr.net/npm/ace-builds@1.15.3/src-min-noconflict/ace.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/ace-builds@1.15.3/css/ace.min.css" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script>
    window.addEventListener('load', async (event) => {
      let module = await import('/models/baseapp.js');

      window.BaseApp = new module.BaseApp();

      window.BaseApp.initCollapseHeaders();

      let solarDeck = await window.BaseApp.readJSONFile(`/story/solarsystemdeck.json`);
      document.getElementById("solarsystemdeckviewer").innerHTML = JSON.stringify(solarDeck, null, '\t');
      ace.edit("solarsystemdeckviewer").session.setMode("ace/mode/javascript");

      let avatarJSON = await window.BaseApp.readJSONFile(`/story/avatars.json`);
      document.getElementById("avatarviewer").innerHTML = JSON.stringify(avatarJSON, null, '\t');
      ace.edit("avatarviewer").session.setMode("ace/mode/javascript");

      let helpJSON = await window.BaseApp.readJSONFile(`/story/helpitems.json`);
      document.getElementById("helpjsonviewer").innerHTML = JSON.stringify(helpJSON, null, '\t');
      ace.edit("helpjsonviewer").session.setMode("ace/mode/javascript");

      let roundJSON = await window.BaseApp.readJSONFile(`/story/roundpre4.json`);
      document.getElementById("roundjsonviewer").innerHTML = JSON.stringify(roundJSON, null, '\t');
      ace.edit("roundjsonviewer").session.setMode("ace/mode/javascript");
    });
  </script>
  <style>
    h1 {
      color: rgb(0, 0, 255);
    }

    h2 {
      color: rgb(255, 0, 0);
    }

    .app_panel h2 i {
      line-height: 20px;
      font-size: 30px;
      position: relative;
      top: 5px;
      left: -6px;
      color: rgb(100, 100, 100);
      transform: rotateX(180deg);
      transition: transform 600ms;
    }

    .app_panel .collapsed h2 i {
      transform: rotateX(0deg);
    }

    .app_panel {
      background: rgb(250, 250, 250);
    }

    html,
    body {
      min-height: 100vh;
    }

    .app_panel>div {
      max-width: 1000px;
    }


    .app_panel h1 {
      cursor: pointer;
    }

    .app_panel .header_down_arrow {
      font-size: 30px;
      color: rgb(100, 100, 100);
      transform: rotateX(180deg);
      transition: transform 600ms;
      cursor: pointer;
      display: inline-block;
    }

    .night_mode .app_panel .header_down_arrow {
      color: rgb(220, 220, 220);
    }

    .night_mode .app_panel .header_down_arrow {
      color: rgb(220, 220, 220);
    }

    .app_panel .collapsed .header_down_arrow {
      transform: rotateX(0deg);
    }

    .app_panel h1 {
      padding-left: 12px;
      text-align: left;
    }

    .app_panel h1,
    .app_panel h2 {
      display: inline-block;
    }

    .logo_svg {
      height: 50px;
      color: white;
    }

    .logo_svg:hover {
      color: rgb(127, 127, 127);
    }

    table td {
      padding: 5px;
    }
  </style>
</head>

<body class="loaded" style="background:rgb(250,250,250);font-size:20px;">
  <div style="display:flex;flex-direction:column;min-height:100vh" class="app_panel">
    <div style="line-height:50px;padding:15px;">
      <h2>Project In Progress</h2>
      - environment is viewable (although incomplete)
    </div>
    <hr style="margin-bottom:10px;">
    <div>
      <a href="/" style="padding:10px;">
        <svg class="logo_svg" version="1.1" viewBox="0.0 0.0 686.2230971128608 689.7769028871392" fill="none" stroke="none" stroke-linecap="square" stroke-miterlimit="10" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
          <clipPath id="p.0">
            <path d="m0 0l686.2231 0l0 689.7769l-686.2231 0l0 -689.7769z" clip-rule="nonzero" />
          </clipPath>
          <g clip-path="url(#p.0)">
            <path fill="#000000" fill-opacity="0.0" d="m0 0l686.2231 0l0 689.7769l-686.2231 0z" fill-rule="evenodd" />
            <path fill="#000000" d="m8.0 344.0l0 0c0 -185.56767 150.43233 -336.0 336.0 -336.0l0 0c89.11273 0 174.57568 35.3999 237.58789 98.412125c63.012207 63.012222 98.41211 148.47513 98.41211 237.58788l0 0c0 185.56769 -150.43231 336.0 -336.0 336.0l0 0c-185.56767 0 -336.0 -150.43231 -336.0 -336.0z"
              fill-rule="evenodd" />
            <path fill="currentColor" d="m65.60555 344.0l0 0c0 -153.7526 124.641106 -278.3937 278.3937 -278.3937l0 0c73.834595 0 144.64511 29.33068 196.85406 81.53962c52.208923 52.208954 81.53961 123.019485 81.53961 196.85408l0 0c0 153.7526 -124.64108 278.39368 -278.39368 278.39368l0 0c-153.75261 0 -278.3937 -124.64108 -278.3937 -278.39368z"
              fill-rule="evenodd" />
            <path fill="#0000ff" d="m314.7801 518.6186l0 0c-35.476685 39.39923 -96.1756 42.57904 -135.57481 7.102356l0 0c-18.920166 -17.036499 -30.297684 -40.891235 -31.629639 -66.31644c-1.331955 -25.425201 7.4907684 -50.338196 24.527283 -69.25836l0 0c35.476685 -39.3992 96.17558 -42.57904 135.57481 -7.102356l0 0c39.3992 35.476685 42.57904 96.1756 7.102356 135.5748z"
              fill-rule="evenodd" />
            <path fill="#00ff00" d="m558.9682 443.61438l0 0c-35.476685 39.3992 -96.1756 42.57904 -135.5748 7.102356l0 0c-18.920166 -17.036499 -30.297699 -40.891235 -31.629639 -66.31644c-1.3319397 -25.425201 7.4907837 -50.338196 24.527283 -69.25836l0 0c35.476685 -39.3992 96.17557 -42.57904 135.5748 -7.102356l0 0c39.39923 35.476685 42.57904 96.1756 7.102356 135.5748z"
              fill-rule="evenodd" />
            <path fill="#ff0000" d="m366.05234 268.79144l0 0c-35.476715 39.3992 -96.1756 42.57904 -135.57481 7.102356l0 0c-18.920166 -17.036499 -30.297699 -40.89125 -31.629654 -66.31647c-1.3319397 -25.425201 7.4907837 -50.33818 24.527283 -69.25835l0 0c35.476685 -39.399208 96.1756 -42.57904 135.5748 -7.102356l0 0c39.39923 35.476685 42.57907 96.17558 7.1023865 135.57481z"
              fill-rule="evenodd" />
          </g>
        </svg></a>
      &nbsp;
      <b style="position: relative;top: -15px;">Shared Virtual Reality</b>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Visual Assets <span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div style="padding:10px;">
          <table>
            <tr>
              <td><b>Goals &nbsp;</b></td>
              <td>Load on demand via web browser for
                virtual reality experiences
                <br>
                Layout scheme supporting a solar system experience
              </td>
            </tr>
            <tr>
              <td><b>Notes &nbsp;</b></td>
              <td>
                <a href="https://www.khronos.org/gltf/" target="_blank">GLTF</a>
                models are used with <a href="https://google.github.io/draco/" target="_blank">Draco</a> compression
                <br>
                Spheres are generated at runtime where possible
                <br>
                Fresh download is < 75mb (15s on Windows / 20s on Quest 2) <br>
                  Original sources for the assets as publically available unless otherwise noted
              </td>
            </tr>
          </table>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Planets and Probes <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            <img src="nasasolarobjects.jpg" style="height:350px;">
            <br>
            <a href="https://solarsystem.nasa.gov/solar-system/our-solar-system/overview/" target="_blank">
              NASA</a> is the primary source of the planet textures and meshes for many of the probes and spaceships.
            Some other 3d models have been purchases from 3rd party sources.
            <br>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Moons and Asteroids <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Asteroid models can be source freely from <a href="https://echo.jpl.nasa.gov/">JPL</a>.
            <br>
            Greg Frieger has created a <a href="https://3d-asteroids.space/" target="_blank">terrific catalog</a> making it easier to find and use
            3d represenations of asteroids, comets and more.
            <br>
            <a href="https://echo.jpl.nasa.gov/links.html">JPL list of websites for additional data</a> .

            <br><br>
            <h3>UV Maps for asteroid meshes</h3>
            <img src="asteroiduvmap.jpg" style="height:350px;">
            <br>
            Spherical projection UV maps are generated in Blender and saved out in a new .obj file (best for size)
            for asteroids. This allows a common texture to be used for all minor asteroids.
            <br><br>
          </div>
        </div>

        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Crowd Navigation <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            BabylonJS supports Recast <a href="https://doc.babylonjs.com/features/featuresDeepDive/crowdNavigation" target="_blank">crowd navigation</a>.
            Assets can supply a navRadius to be included as an obstable that avatars must navigate around when moving.
            <br>
            <img src="navmesh.jpg" style="height:400px">
            <br>
            The floor and obstacles are shown here as hot pink - note only a disc is used to block the area
            that avatars (agents) navigate through.
            <br>
            When avatars, probes and rockets move around agents are used that adjust pathing
             on the fly to adjust to other moving obstacles.
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">App Meta Data <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            <br>
            <a href="/story/moons1deck.json" target="_blank">Non Saturn Moons</a> - Luna and all but Saturns moons
            <br>
            <a href="/story/moons2deck.json" target="_blank">Saturn Moons</a> - it has that many it needed it's own file
            <br>
            <a href="/story/asteroidslist.json" target="_blank">Asteroid List</a> - an array of names for .obj files containing a UV map
            <br>&nbsp; &nbsp;<span style="font-size:12px">https://firebasestorage.googleapis.com/v0/b/sharedcursor.appspot.com/o/meshes%2Fasteroids%2F uri(name) ?alt=media</span>
            <br>
            <br>
            A symbol is associated with each asset using the <a href="https://en.wikipedia.org/wiki/Astrological_symbols" target="_blank">Astrological Symbol Wiki Page</a>
            if available, otherwise using greek letters or a relevant symbol related to the name, i.e. Bennu.
            The meta data also includes the object it's orbiting, description and information link.
            <br><br>
            Size, position, scaling and orbit information are stored in meta data loaded in .json files
            <br>navRadius is the collision radius used for crowd controlled navigation.
            <br><br>
            Solar System Json Example:
            <div id="solarsystemdeckviewer" style="height:250px;"></div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Rigged Avatars <span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div style="padding:10px;">
          <table>
            <tr>
              <td><b>Goals &nbsp;</b></td>
              <td>Bone animated walking and talking avatars.<br>
                User specific and customizable avatars.</td>
            </tr>
            <tr>
              <td><b>Notes &nbsp;</b></td>
              <td>
                <a href="https://www.mixamo.com" target="_blank">Mixamo.com</a> - used to acquire bone animation sequences and the default avatar appearances.
                <br>
                <a href="https://readyplayer.me/" target="_blank">Ready Player Me</a> - embeddable avatar customization engine
                <br>
                <a href="https://www.blender.org/" target="_blank">Blender</a> - combine avatars and animations into GLTF models.
                <br>
              </td>
            </tr>
          </table>
          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">Customizable Avatars <span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">
              <img src="readyplayerme.jpg" style="height:350px;">
              <img src="embeddedplayerreadyme.jpg" style="height:350px;">
              <br>
              Avatar customization tools embedded into application, providing users
              tremendous customizations to share in a multi user experience.
              The meshes are rigged (mapped to a skeleton) so that bone animations can be applied.
            </div>
          </div>

          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">Bone Sequences <span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">

              <img src="mixamo.jpg" style="height:350px;">
            </div>
          </div>
          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">Animation Containers <span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">
              <img src="blenderactions.jpg" style="height:350px;">
              <Br>
              I get all the harvested bone sequences (actions) - then I can map these between the player ready me avatars -
            </div>
          </div>

          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">App Meta Data<span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">
              <a href="/story/avatars.json" target="_blank">Avatars</a> - The 4 story avatars meta data
              <br><br>
              <div id="avatarviewer" style="height:250px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">webXR Interface <span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Action Menu <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel" style="text-align: center">
            <img style="width:90%" src="menubase.png">
            <br>
            Display Panels ----
            <br><br>
            <h2>Cards Panel</h2>
            <br>
            <img style="width:90%" src="cardspanel.jpg">
            <br><br>
            <h2>Players Panel</h2>
            <br>
            <img style="width:90%" src="playerspanel.jpg">
            <br><br>
            <h2>Asset Panel</h2>
            <br>
            <img style="width:90%" src="assetpanel.jpg">
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Help Items <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Help Items are narrated by a specified avatar when selected. The meta data includes text and an image.
            <br>
            <a href="/story/helpitems.json" target="_blank">Help Items</a> - meta about each item
            <br><br>
            <div id="helpjsonviewer" style="height:250px;"></div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Event Channels <span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div style="padding:10px;">
          <table>
            <tr>
              <td><b>Goals &nbsp;</b></td>
              <td>Multiuser game document data - live, replayable and user action driven.
              </td>
            </tr>
            <tr>
              <td><b>Notes &nbsp;</b></td>
              <td>Designed to resemble a cross between google documents and yahoo card games (of old).

              </td>
            </tr>
            <tr>
              <td><b>Specifics &nbsp;</b></td>
              <td> Users get a color assigned (akin to google) and when acting on the document (or game) they sit in
                a seat - which they can stand up and possibly another user sit down and continue the same role (yahoo games).
                For example in a card game a seat has cards and points associated with it - a player/user may sit in
                2 or more seats and play against themselves.
              </td>
            </tr>
          </table>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Realtime Data<span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Rounds contain speech channel events, action channel events and starting position Items<br>
            <br>
            The default round is the intial setup - and each round is a delta against it, for example for round 5
            you need the record for round 5 and the default round, but none of the other rounds to determine current state.
            <br>
            When a new round is created assets not in the default position are specified with state change items
            <br>
            <br>
            prequel rounds (vs game rounds created by users) can contain premade story events and/or tutorials on game play
            <br>
            more on action channel and speech channel events below
            <br><br>
            <a href="/story/roundpre1.json" target="_blank">Pre 1</a>
            <a href="/story/roundpre2.json" target="_blank">Pre 2</a>
            <a href="/story/roundpre3.json" target="_blank">Pre 3</a>
            <a href="/story/roundpre4.json" target="_blank">Pre 4</a>
            <a href="/story/roundpre5.json" target="_blank">Pre 5</a>
            <br><br>
            prequel round 4 json
            <div id="roundjsonviewer" style="height:250px;"></div>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Action Channel<span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            A main queue for action events during a turn. Can be replayed.
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Speech Channel<span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Chat is broken down into fragments - sentances as best as possible and displayed on both
            cartoon style popups and google text to speech is used to create audio.
          </div>
        </div>
      </div>
    </div>
    <div style="flex:1"></div>
    <hr>
    <div style="text-align:center;line-height:3em;max-width:initial">
      <h2 style="color:green">Developed with these FABULOUS tools!</h2>
      <br>
      <a href="https://www.babylonjs.com/" target="_blank"><img src="/images/babylonjs_identity_color.svg" style="height:75px;"></a>
      &nbsp;
      <a href="https://firebase.google.com/" target="_blank"><img src="/images/firebase-logo-standard.png" style="height:65px;"></a>
      <br>
      <a href="https://www.blender.org/" target="_blank"><img src="/images/blender.svg" style="height:65px;"></a>
      &nbsp;
      <a href="https://www.mixamo.com/" target="_blank"><img src="/images/mixamo_logo.png" style="height:75px;"></a>
      <br>
      <a href="https://www.meta.com/" target="_blank"><img src="/images/meta.svg" style="height:55px;"></a>

    </div>
    <div style="text-align:center;max-width:initial;line-height:1.75em">
      <a href="mailto:sam@handtop.com" target="_blank">sam@handtop.com</a>
      <br>© 2023 All Rights Reserved.
    </div>
  </div>

</body>

</html>
