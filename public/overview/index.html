<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Overview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" href="/images/logo64.png">
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.9.0/firebase-firestore.js"></script>
  <script src="/__/firebase/init.js"></script>
  <link rel="stylesheet" href="/css/base.css" />

  <script src="https://cdn.jsdelivr.net/npm/ace-builds@1.15.3/src-min-noconflict/ace.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/ace-builds@1.15.3/css/ace.min.css" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <script>
    window.addEventListener('load', async (event) => {
      let module = await import('/models/baseapp.js');

      window.BaseApp = new module.BaseApp();

      window.BaseApp.initCollapseHeaders();

      let solarDeck = await window.BaseApp.readJSONFile(`/story/solarsystemdeck.json`);
      document.getElementById("solarsystemdeckviewer").innerHTML = JSON.stringify(solarDeck, null, '\t');
      ace.edit("solarsystemdeckviewer").session.setMode("ace/mode/javascript");

      let avatarJSON = await window.BaseApp.readJSONFile(`/story/avatars.json`);
      document.getElementById("avatarviewer").innerHTML = JSON.stringify(avatarJSON, null, '\t');
      ace.edit("avatarviewer").session.setMode("ace/mode/javascript");

      let helpJSON = await window.BaseApp.readJSONFile(`/story/helpitems.json`);
      document.getElementById("helpjsonviewer").innerHTML = JSON.stringify(helpJSON, null, '\t');
      ace.edit("helpjsonviewer").session.setMode("ace/mode/javascript");

      let roundJSON = await window.BaseApp.readJSONFile(`/story/roundpre4.json`);
      document.getElementById("roundjsonviewer").innerHTML = JSON.stringify(roundJSON, null, '\t');
      ace.edit("roundjsonviewer").session.setMode("ace/mode/javascript");
    });
  </script>
  <style>
    h1 {
      color: rgb(0, 0, 255);
    }

    h2 {
      color: rgb(255, 0, 0);
    }

    .app_panel h2 i {
      line-height: 20px;
      font-size: 30px;
      position: relative;
      top: 5px;
      left: -6px;
      color: rgb(100, 100, 100);
      transform: rotateX(180deg);
      transition: transform 600ms;
    }

    .app_panel .collapsed h2 i {
      transform: rotateX(0deg);
    }

    .app_panel {
      background: rgb(250, 250, 250);
    }

    html,
    body {
      min-height: 100vh;
    }

    .app_panel>div {
      max-width: 1000px;
    }


    .app_panel h1 {
      cursor: pointer;
    }

    .app_panel .header_down_arrow {
      font-size: 30px;
      color: rgb(100, 100, 100);
      transform: rotateX(180deg);
      transition: transform 600ms;
      cursor: pointer;
      display: inline-block;
    }

    .night_mode .app_panel .header_down_arrow {
      color: rgb(220, 220, 220);
    }

    .night_mode .app_panel .header_down_arrow {
      color: rgb(220, 220, 220);
    }

    .app_panel .collapsed .header_down_arrow {
      transform: rotateX(0deg);
    }

    .app_panel h1 {
      padding-left: 12px;
      text-align: left;
    }
  </style>
</head>

<body class="loaded" style="background:rgb(250,250,250);font-size:20px;">
  <div style="display:flex;flex-direction:column;min-height:100vh" class="app_panel">
    <a href="/" style="padding:10px;">Home</a><br>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Static 3D Assets<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div style="padding:10px;">
          <table>
            <tr>
              <td><b>Goals &nbsp;</b></td>
              <td>Derive a balance between size and quality for download on demand application usage.
                These objects are not bone animated (refer to avatars), while mostly static they maybe animated in position and rotation, etc.
              </td>
            </tr>
            <tr>
              <td><b>Notes &nbsp;</b></td>
              <td>Since many objects are round, or almost round, only texture(s) are included and the sphere is generated at runtime.
                DRACO compression is used so the .glb files aren't viewable in windows once compressed.
                The asset decks provide meta data including mesh and texture locations and initial asset positioning.
                The blob files are stored in the cloud for cheap access, the meta data is stored in json files (more below).
              </td>
            </tr>
            <tr>
              <td><b>Specifics &nbsp;</b></td>
              <td>
                Animated orbits around a parent object are supported to make it easier to layout a solar system model.
                <br>navRadius determines the blocking area to keep avatars out of when moving around.
                <br>Assets use a texturePath (default) or an assetPath but not both.
              </td>
            </tr>
          </table>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Planet Assets <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            <a href="https://solarsystem.nasa.gov/solar-system/our-solar-system/overview/" target="_blank">
              <img src="nasasolarobjects.jpg" style="height:350px;">
              <br>
              NASA is the primary source of the planet textures and meshes for many of the probes and spaceships.
              Some other 3d models have been purchases from 3rd party sources.
            </a>
            <br>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Moons, Asteroids and Comets <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Asteroid models can be source freely from <a href="https://echo.jpl.nasa.gov/">JPL</a>.
            <br>
            Greg Frieger has created a <a href="https://3d-asteroids.space/" target="_blank">terrific catalog</a> exists these makes it easier to find and use
            3d represenations of asteroids, as well as comets, moons and dwarfs.
            <br>
            <a href="https://echo.jpl.nasa.gov/links.html">JPL list of websites for additional data</a> .

            <br><br>
            <h3>UV Maps for asteroid meshes</h3>
            <img src="asteroiduvmap.jpg" style="height:350px;">
            <br>
            Spherical projection UV maps are generated in Blender and saved out in a new .obj file (best for size)
            for asteroids.  This allows a common texture to be used for all minor asteroids.
            <br><br>
          </div>
        </div>

        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">App Meta Data <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            <br>
            <a href="/story/moons1deck.json" target="_blank">Non Saturn Moons</a> - Luna and all but Saturns moons
            <br>
            <a href="/story/moons2deck.json" target="_blank">Saturn Moons</a> - it has that many it needed it's own file
            <br>
            <a href="/story/asteroidslist.json" target="_blank">Asteroid List</a> - an array of names for .obj files containing a UV map
            <br>&nbsp; &nbsp;<span style="font-size:12px">https://firebasestorage.googleapis.com/v0/b/sharedcursor.appspot.com/o/meshes%2Fasteroids%2F uri(name) ?alt=media</span>
            <br>
            <br>
            A symbol is associated with each asset using the <a href="https://en.wikipedia.org/wiki/Astrological_symbols" target="_blank">Astrological Symbol Wiki Page</a>
            if available, otherwise using greek letters or a relevant symbol related to the name, i.e. Bennu.
            The meta data also includes the object it's orbiting, description and information link.
            <br><br>
            Solar System Json Example:
            <div id="solarsystemdeckviewer" style="height:250px;"></div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Avatars<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div style="padding:10px;">
          <table>
            <tr>
              <td><b>Goals &nbsp;</b></td>
              <td>Bone animated walking, talking and acting avatars. Ready Player Me is used for a customing
                avatar appearance for players.</td>
            </tr>
            <tr>
              <td><b>Notes &nbsp;</b></td>
              <td>Mixamo.com is the source of the avatars and bone animation sequences. Blender was used to
                load the bone animation sequences into the avatar files and export them to .glb with
                DRACO compression.</td>
            </tr>
            <tr>
              <td><b>Links &nbsp;</b></td>
              <td>
                <a href="https://www.mixamo.com" target="_blank">Mixamo.com</a> - used to acquire bone animation sequences and the default avatar appearances.
                <br>
                <a href="https://readyplayer.me/" target="_blank">Ready Player Me</a> - embeddable avatar customization engine
                <br>
                <a href="https://www.blender.org/" target="_blank">Blender</a> - distill, combine and compact bone animations with avatars and export to gtf.
                <br>
                <a href="https://www.babylonjs.com/" target="_blank">BabylonJS</a> - javascript 3d engine that performs bone animations, including
                blending (smoothing combining/transistioning) animations.
                <br>
              </td>
            </tr>
          </table>
          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">Customizable Avatars (ReadyPlayer.Me) <span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">
              <img src="readyplayerme.jpg" style="height:350px;">
              <img src="embeddedplayerreadyme.jpg" style="height:350px;">
              <br>
              Avatar customization tools embedded into application, providing users
              tremendous customizations to share in a multi user experience.
              The meshes are rigged (mapped to a skeleton) so that bone animations can be applied.
            </div>
          </div>

          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">Bone Animations (Mixamo.com) <span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">

              <img src="mixamo.jpg" style="height:350px;">
            </div>
          </div>
          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">Animation Containers (.gltf/.glb format) <span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">
              <img src="blenderactions.jpg" style="height:350px;">
              <Br>
              I get all the harvested bone sequences (actions) - then I can map these between the player ready me avatars -
            </div>
          </div>

          <div class='collapsed' style="padding:10px;">
            <h2 class="collapse_header right_arrow">App Meta Data<span class="header_down_arrow">&#9660;</span></h2>
            <div class="collapse_panel">
              <a href="/story/avatars.json" target="_blank">Avatars</a> - The 4 story avatars meta data
              <br><br>
              <div id="avatarviewer" style="height:250px;"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">VR Interface<span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Action Menu <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel" style="text-align: center">
            <img style="width:90%" src="menubase.png">
            <br>
            Display Panels ----
            <br><br>
            <h2>Cards Panel</h2>
            <br>
            <img style="width:90%" src="cardspanel.jpg">
            <br><br>
            <h2>Players Panel</h2>
            <br>
            <img style="width:90%" src="playerspanel.jpg">
            <br><br>
            <h2>Asset Panel</h2>
            <br>
            <img style="width:90%" src="assetpanel.jpg">
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Help Items <span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Help Items are narrated by a specified avatar when selected. The meta data includes text and an image.
            <br>
            <a href="/story/helpitems.json" target="_blank">Help Items</a> - meta about each item
            <br><br>
            <div id="helpjsonviewer" style="height:250px;"></div>
          </div>
        </div>
      </div>
    </div>
    <div class='collapsed' style="padding:10px;">
      <h1 class="collapse_header right_arrow">Channels <span class="header_down_arrow">&#9660;</span></h1>
      <div class="collapse_panel">
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Realtime Data<span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Rounds contain speech channel events, action channel events and starting position Items<br>
            <br>
            The default round is the intial setup - and each round is a delta against it, for example for round 5
            you need the record for round 5 and the default round, but none of the other rounds to determine current state.
            <br>
            When a new round is created assets not in the default position are specified with state change items
            <br>
            <br>
            prequel rounds (vs game rounds created by users) can contain premade story events and/or tutorials on game play
            <br>
            more on action channel and speech channel events below
            <br><br>
            <a href="/story/roundpre1.json" target="_blank">Pre 1</a>
            <a href="/story/roundpre2.json" target="_blank">Pre 2</a>
            <a href="/story/roundpre3.json" target="_blank">Pre 3</a>
            <a href="/story/roundpre4.json" target="_blank">Pre 4</a>
            <a href="/story/roundpre5.json" target="_blank">Pre 5</a>
            <br><br>
            prequel round 4 json
            <div id="roundjsonviewer" style="height:250px;"></div>
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Action Channel<span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            A main queue for action events during a turn. Can be replayed.
          </div>
        </div>
        <div class='collapsed' style="padding:10px;">
          <h2 class="collapse_header right_arrow">Speech Channel<span class="header_down_arrow">&#9660;</span></h2>
          <div class="collapse_panel">
            Chat is broken down into fragments - sentances as best as possible and displayed on both
            cartoon style popups and google text to speech is used to create audio.
          </div>
        </div>
      </div>
    </div>
    <div style="flex:1"></div>
    <div style="text-align:center;max-width:initial;">
      <a href="mailto:sam@handtop.com" target="_blank">sam@handtop.com</a>
      <br>© 2023 All Rights Reserved.
    </div>
  </div>

</body>

</html>
